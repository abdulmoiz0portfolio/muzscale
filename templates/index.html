<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MuzScale â€” Dark Image Editor & Upscaler</title>
  <link rel="stylesheet" href="/static/css/styles.css" />
</head>
<body>
  <header>
    <div class="logo" title="MuzScale">
      <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 2l3 7h7l-5.5 4 2.5 7-7-4.5L5 20l2.5-7L2 9h7l3-7z" stroke="currentColor" stroke-width="1.2"/>
      </svg>
      MuzScale
    </div>
    <div style="opacity:.7">AI Upscaler & Editor</div>
  </header>

  <main class="container">
    <!-- Tools Sidebar -->
    <aside class="sidebar">
      <h2>Tools</h2>
      <div class="tool-group">
        <button id="flipH" class="tool-btn" title="Flip Horizontal">
          <svg viewBox="0 0 24 24"><path fill="currentColor" d="M3 5h8v14H3V5m10 0h8v14h-8V5Z"/></svg>
          Flip Horizontal
        </button>
        <button id="flipV" class="tool-btn" title="Flip Vertical">
          <svg viewBox="0 0 24 24"><path fill="currentColor" d="M5 3h14v8H5V3m0 10h14v8H5v-8Z"/></svg>
          Flip Vertical
        </button>
      </div>

      <div class="tool-group">
        <button id="resetBtn" class="tool-btn" title="Reset">
          <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 6V3L8 7l4 4V8a4 4 0 1 1-4 4H6a6 6 0 1 0 6-6Z"/></svg>
          Reset
        </button>
        <button id="downloadBtn" class="tool-btn" title="Download PNG">
          <svg viewBox="0 0 24 24"><path fill="currentColor" d="M5 20h14v-2H5v2m7-16-5 5h3v4h4v-4h3l-5-5Z"/></svg>
          Download
        </button>
      </div>

      <div class="tool-group">
        <h2>Filters</h2>
        <div class="property">
          <div class="value-display"><label for="brightness">Brightness</label><span class="val">100</span></div>
          <input id="brightness" type="range" min="0" max="200" value="100" />
        </div>
        <div class="property">
          <div class="value-display"><label for="contrast">Contrast</label><span class="val">100</span></div>
          <input id="contrast" type="range" min="0" max="200" value="100" />
        </div>
        <div class="property">
          <div class="value-display"><label for="saturation">Saturation</label><span class="val">100</span></div>
          <input id="saturation" type="range" min="0" max="300" value="100" />
        </div>
        <div class="property">
          <div class="value-display"><label for="blur">Blur</label><span class="val">0</span></div>
          <input id="blur" type="range" min="0" max="10" value="0" />
        </div>
        <div class="property">
          <div class="value-display"><label for="grayscale">Grayscale</label><span class="val">0</span></div>
          <input id="grayscale" type="range" min="0" max="100" value="0" />
        </div>
        <div class="property">
          <div class="value-display"><label for="sepia">Sepia</label><span class="val">0</span></div>
          <input id="sepia" type="range" min="0" max="100" value="0" />
        </div>
      </div>
    </aside>

    <!-- Canvas Area -->
    <section class="canvas-area">
      <div class="toolbar">
        <button id="upscaleBtn" class="toolbar-btn primary">Upscale</button>
        <div id="upscaleLoading" class="loading"><div class="spinner"></div><div>Upscaling...</div></div>
        <div style="flex:1"></div>
        <div class="property" style="display:flex;gap:1rem;align-items:center;">
          <label for="rotate">Rotate</label>
          <input id="rotate" type="range" min="-180" max="180" value="0" style="width:180px" />
        </div>
        <div class="property" style="display:flex;gap:1rem;align-items:center;">
          <label for="scale">Zoom</label>
          <input id="scale" type="range" min="0.2" max="3" step="0.05" value="1" style="width:180px" />
        </div>
      </div>

      <div class="canvas-wrapper">
        <div id="uploadArea" class="upload-area">
          <svg class="upload-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M19 15v4H5v-4H3v4a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-4h-2M11 16h2V8h3l-4-4-4 4h3v8Z"/></svg>
          <div class="upload-text">
            <h3>Drag & drop an image</h3>
            <p>or click to browse. PNG, JPG, WEBP supported.</p>
          </div>
          <button class="upload-btn" type="button">Choose Image</button>
          <input id="fileInput" type="file" accept="image/*" />
        </div>

        <div class="canvas-container">
          <canvas id="canvas"></canvas>
        </div>
      </div>
    </section>

    <!-- Properties Panel (future extensibility) -->
    <aside class="properties">
      <h2>Presets</h2>
      <div class="filters-grid">
        <button class="filter-btn" onclick="document.getElementById('grayscale').value=100;document.getElementById('grayscale').dispatchEvent(new Event('input'))">Grayscale</button>
        <button class="filter-btn" onclick="document.getElementById('sepia').value=60;document.getElementById('sepia').dispatchEvent(new Event('input'))">Vintage</button>
        <button class="filter-btn" onclick="document.getElementById('contrast').value=130;document.getElementById('contrast').dispatchEvent(new Event('input'))">High Contrast</button>
        <button class="filter-btn" onclick="document.getElementById('saturation').value=160;document.getElementById('saturation').dispatchEvent(new Event('input'))">Vivid</button>
      </div>
    </aside>
  </main>

  <div id="toast-root"></div>
  <script src="/static/js/app.js"></script>
</body>
</html>
